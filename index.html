<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English to IPA Translator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f7f9fc;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .container {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .input-area {
            display: flex;
            margin-bottom: 20px;
        }
        input {
            flex: 1;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            margin-left: 10px;
            padding: 12px 20px;
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #3b78e7;
        }
        .output {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            min-height: 60px;
            font-size: 18px;
            margin-bottom: 15px;
        }
        .examples button {
            background-color: #34a853;
            margin: 5px;
            font-size: 14px;
            padding: 8px 12px;
        }
        .examples button:hover {
            background-color: #2d9348;
        }
        .info {
            margin-top: 25px;
            padding: 15px;
            background-color: #e8f4fc;
            border-radius: 4px;
            font-size: 14px;
            color: #555;
        }
        .info h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .source {
            font-size: 12px;
            color: #777;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>English to IPA Translator</h1>
    <div class="container">
        <div class="input-area">
            <input type="text" id="english-input" placeholder="Enter an English word" autocomplete="off">
            <button id="translate-btn">Translate</button>
        </div>
        <div class="output" id="ipa-output">IPA transcription will appear here</div>
        
        <div class="examples">
            <h3>Try Example Words:</h3>
            <div>
                <button class="example-word" data-word="cat">cat</button>
                <button class="example-word" data-word="dog">dog</button>
                <button class="example-word" data-word="mouse">mouse</button>
                <button class="example-word" data-word="water">water</button>
                <button class="example-word" data-word="computer">computer</button>
                <button class="example-word" data-word="pronunciation">pronunciation</button>
                <button class="example-word" data-word="algorithm">algorithm</button>
                <button class="example-word" data-word="america">America</button>
            </div>
        </div>
        
        <div class="info">
            <h3>About This Translator</h3>
            <p>This translator converts English words to their IPA (International Phonetic Alphabet) pronunciation using General American English dialect.</p>
            
            <h3>Common IPA Symbols for American English</h3>
            <table>
                <tr>
                    <th>IPA Symbol</th>
                    <th>Example</th>
                    <th>IPA Symbol</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td>æ</td>
                    <td>cat, bad</td>
                    <td>ʃ</td>
                    <td>she, nation</td>
                </tr>
                <tr>
                    <td>ɑ</td>
                    <td>hot, father</td>
                    <td>ʒ</td>
                    <td>vision, pleasure</td>
                </tr>
                <tr>
                    <td>ɛ</td>
                    <td>bed, feather</td>
                    <td>tʃ</td>
                    <td>chair, nature</td>
                </tr>
                <tr>
                    <td>i</td>
                    <td>see, meat</td>
                    <td>dʒ</td>
                    <td>just, edge</td>
                </tr>
                <tr>
                    <td>ɪ</td>
                    <td>sit, women</td>
                    <td>ŋ</td>
                    <td>sing, think</td>
                </tr>
                <tr>
                    <td>ɔ</td>
                    <td>law, caught</td>
                    <td>θ</td>
                    <td>thin, through</td>
                </tr>
                <tr>
                    <td>ʌ</td>
                    <td>cup, love</td>
                    <td>ð</td>
                    <td>this, father</td>
                </tr>
                <tr>
                    <td>u</td>
                    <td>tool, blue</td>
                    <td>ə</td>
                    <td>about, supply</td>
                </tr>
                <tr>
                    <td>ʊ</td>
                    <td>book, should</td>
                    <td>ɚ</td>
                    <td>butter, worker</td>
                </tr>
                <tr>
                    <td>eɪ</td>
                    <td>day, pain</td>
                    <td>ɝ</td>
                    <td>bird, fur</td>
                </tr>
                <tr>
                    <td>aɪ</td>
                    <td>my, sight</td>
                    <td>ˈ</td>
                    <td>primary stress</td>
                </tr>
                <tr>
                    <td>oʊ</td>
                    <td>go, boat</td>
                    <td>ˌ</td>
                    <td>secondary stress</td>
                </tr>
                <tr>
                    <td>aʊ</td>
                    <td>now, house</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>ɔɪ</td>
                    <td>boy, choice</td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        // American English IPA Dictionary
        const ipaDict = {
            // Basic words
            "a": "ə",
            "the": "ðə",
            "of": "əv",
            "to": "tu",
            "and": "ænd",
            "in": "ɪn",
            "is": "ɪz",
            "it": "ɪt",
            "you": "ju",
            "that": "ðæt",
            "he": "hi",
            "was": "wəz",
            "for": "fɔr",
            "on": "ɑn",
            "are": "ɑr",
            "with": "wɪð",
            "as": "æz",
            "his": "hɪz",
            "they": "ðeɪ",
            "be": "bi",
            "at": "æt",
            "one": "wʌn",
            "have": "hæv",
            "this": "ðɪs",
            "from": "frʌm",
            "or": "ɔr",
            "had": "hæd",
            "by": "baɪ",
            "not": "nɑt",
            "word": "wɝd",
            "but": "bʌt",
            "what": "wʌt",
            "all": "ɔl",
            "were": "wɝ",
            "we": "wi",
            "when": "wɛn",
            "your": "jʊr",
            "can": "kæn",
            "said": "sɛd",
            "there": "ðɛr",
            "use": "juz",
            "an": "æn",
            "each": "itʃ",
            "which": "wɪtʃ",
            "she": "ʃi",
            "do": "du",
            "how": "haʊ",
            "their": "ðɛr",
            "if": "ɪf",
            "will": "wɪl",
            "up": "ʌp",
            "other": "ʌðɚ",
            "about": "əˈbaʊt",
            "out": "aʊt",
            "many": "ˈmɛni",
            "then": "ðɛn",
            "them": "ðɛm",
            "these": "ðiz",
            "so": "soʊ",
            "some": "sʌm",
            "her": "hɝ",
            "would": "wʊd",
            "make": "meɪk",
            "like": "laɪk",
            "him": "hɪm",
            "into": "ˈɪntu",
            "time": "taɪm",
            "has": "hæz",
            "look": "lʊk",
            "two": "tu",
            "more": "mɔr",
            "write": "raɪt",
            "go": "goʊ",
            "see": "si",
            "number": "ˈnʌmbɚ",
            "no": "noʊ",
            "way": "weɪ",
            "could": "kʊd",
            "people": "ˈpipəl",
            "my": "maɪ",
            "than": "ðæn",
            "first": "fɝst",
            "water": "ˈwɔtɚ",
            "been": "bɪn",
            "call": "kɔl",
            "who": "hu",
            "oil": "ɔɪl",
            "its": "ɪts",
            "now": "naʊ",
            "find": "faɪnd",
            "long": "lɔŋ",
            "down": "daʊn",
            "day": "deɪ",
            "did": "dɪd",
            "get": "gɛt",
            "come": "kʌm",
            "made": "meɪd",
            "may": "meɪ",
            "part": "pɑrt",
            
            // Common American words
            "cat": "kæt",
            "dog": "dɔg",
            "mouse": "maʊs",
            "computer": "kəmˈpjutɚ",
            "america": "əˈmɛrɪkə",
            "water": "ˈwɔtɚ",
            "better": "ˈbɛtɚ",
            "happy": "ˈhæpi",
            "running": "ˈrʌnɪŋ",
            "phone": "foʊn",
            "through": "θru",
            "thought": "θɔt",
            "bird": "bɝd",
            "work": "wɝk",
            "word": "wɝd",
            "world": "wɝld",
            "learn": "lɝn",
            "apple": "ˈæpəl",
            "banana": "bəˈnænə",
            "orange": "ˈɔrɪndʒ",
            "algorithm": "ˈælgəˌrɪðəm",
            "pronunciation": "prəˌnʌnsiˈeɪʃən",
            "elephant": "ˈɛləfənt",
            "beautiful": "ˈbjutəfəl",
            "dictionary": "ˈdɪkʃəˌnɛri",
            "everything": "ˈɛvriˌθɪŋ",
            "knowledge": "ˈnɑlɪdʒ",
            "language": "ˈlæŋgwɪdʒ",
            "mountain": "ˈmaʊntən",
            "question": "ˈkwɛstʃən",
            "remember": "rɪˈmɛmbɚ",
            "satellite": "ˈsætəˌlaɪt",
            "technology": "tɛkˈnɑlədʒi",
            "university": "ˌjunəˈvɝsəti",
            "vegetable": "ˈvɛdʒtəbəl",
            "yesterday": "ˈjɛstɚdeɪ",
            "english": "ˈɪŋglɪʃ",
            "american": "əˈmɛrɪkən"
        };

        // General American English phoneme rules
        const phonemeRules = [
            // Common American pronunciation patterns
            { pattern: /tion/, ipa: "ʃən" },
            { pattern: /sion/, ipa: "ʒən" },
            { pattern: /ture/, ipa: "tʃɚ" },
            { pattern: /sure/, ipa: "ʒɚ" },
            { pattern: /tial/, ipa: "ʃəl" },
            { pattern: /cial/, ipa: "ʃəl" },
            
            // Common word endings
            { pattern: /ing\b/, ipa: "ɪŋ" },
            { pattern: /ed\b/, ipa: "d" },
            { pattern: /er\b/, ipa: "ɚ" },
            { pattern: /or\b/, ipa: "ɚ" },
            { pattern: /ar\b/, ipa: "ɚ" },
            { pattern: /le\b/, ipa: "əl" },
            
            // R-colored vowels (rhotic)
            { pattern: /ar(?![aeiouy])/, ipa: "ɑr" },
            { pattern: /or(?![aeiouy])/, ipa: "ɔr" },
            { pattern: /ir(?![aeiouy])/, ipa: "ɝ" },
            { pattern: /er(?![aeiouy])/, ipa: "ɝ" },
            { pattern: /ur(?![aeiouy])/, ipa: "ɝ" },
            
            // Vowel combinations
            { pattern: /ee|ea/, ipa: "i" },
            { pattern: /oo/, ipa: "u" },
            { pattern: /oa|ow\b/, ipa: "oʊ" },
            { pattern: /ai|ay\b/, ipa: "eɪ" },
            { pattern: /ie|y\b|igh/, ipa: "aɪ" },
            { pattern: /ou\b|ow(?![n])/, ipa: "aʊ" },
            { pattern: /oi|oy/, ipa: "ɔɪ" },
            { pattern: /aw|au/, ipa: "ɔ" },
            
            // Consonant clusters
            { pattern: /th(?=[aeiouy])/, ipa: "ð" },
            { pattern: /th/, ipa: "θ" },
            { pattern: /ch|tch/, ipa: "tʃ" },
            { pattern: /sh/, ipa: "ʃ" },
            { pattern: /zh/, ipa: "ʒ" },
            { pattern: /ph/, ipa: "f" },
            { pattern: /wh/, ipa: "w" },
            { pattern: /ng/, ipa: "ŋ" },
            { pattern: /dg|j/, ipa: "dʒ" },
            { pattern: /ck/, ipa: "k" },
            { pattern: /qu/, ipa: "kw" },
            
            // Silent letter combinations
            { pattern: /kn|gn/, ipa: "n" },
            { pattern: /mb\b/, ipa: "m" },
            { pattern: /ps\b/, ipa: "ps" },
            { pattern: /wr/, ipa: "r" },
            { pattern: /gh\b/, ipa: "" },
            
            // Long vowels with silent e
            { pattern: /a([^aeiouy]e)\b/, ipa: "eɪ" },
            { pattern: /i([^aeiouy]e)\b/, ipa: "aɪ" },
            { pattern: /o([^aeiouy]e)\b/, ipa: "oʊ" },
            { pattern: /u([^aeiouy]e)\b/, ipa: "ju" },
            
            // Short vowels
            { pattern: /a(?![aeiouy][^aeiouy]e)/, ipa: "æ" },
            { pattern: /e(?![aeiouy][^aeiouy]e)/, ipa: "ɛ" },
            { pattern: /i(?![aeiouy][^aeiouy]e)/, ipa: "ɪ" },
            { pattern: /o(?![aeiouy][^aeiouy]e)/, ipa: "ɑ" },
            { pattern: /u(?![aeiouy][^aeiouy]e)/, ipa: "ʌ" },
            
            // Reduced vowels in unstressed syllables
            { pattern: /a\b/, ipa: "ə" },
            { pattern: /e\b/, ipa: "i" },
            
            // Individual consonants
            { pattern: /b/, ipa: "b" },
            { pattern: /c(?=[eiy])/, ipa: "s" },
            { pattern: /c/, ipa: "k" },
            { pattern: /d/, ipa: "d" },
            { pattern: /f/, ipa: "f" },
            { pattern: /g(?=[eiy])/, ipa: "dʒ" },
            { pattern: /g/, ipa: "g" },
            { pattern: /h/, ipa: "h" },
            { pattern: /k/, ipa: "k" },
            { pattern: /l/, ipa: "l" },
            { pattern: /m/, ipa: "m" },
            { pattern: /n/, ipa: "n" },
            { pattern: /p/, ipa: "p" },
            { pattern: /q/, ipa: "k" },
            { pattern: /r/, ipa: "r" },
            { pattern: /s(?=[aeiouy][aeiouy])/, ipa: "z" },
            { pattern: /s\b/, ipa: "s" },
            { pattern: /s/, ipa: "s" },
            { pattern: /t(?=i[aeiouy])/, ipa: "ʃ" },
            { pattern: /t/, ipa: "t" },
            { pattern: /v/, ipa: "v" },
            { pattern: /w/, ipa: "w" },
            { pattern: /x/, ipa: "ks" },
            { pattern: /y(?=[aeiouy])/, ipa: "j" },
            { pattern: /z/, ipa: "z" }
        ];

        // Function to translate English word to IPA
        function translateToIPA(word) {
            word = word.toLowerCase().trim();
            
            // Check if word is in dictionary
            if (ipaDict[word]) {
                return ipaDict[word] + " <span class='source'>(from dictionary)</span>";
            } 
            
            // If not in dictionary, use rule-based approximation
            try {
                const approximation = algorithmicTranslate(word);
                return approximation + " <span class='source'>(approximated)</span>";
            } catch (error) {
                console.error("Error in translation:", error);
                return "Could not translate: " + error.message;
            }
        }
        
        // Improved algorithmic translation function for American English
        function algorithmicTranslate(word) {
            // Words shorter than 2 letters often have special pronunciations
            if (word.length <= 1) {
                return word;
            }
            
            const syllables = estimateSyllables(word);
            let result = "";
            let remainingWord = word.toLowerCase();
            
            // Process the word by applying phonetic rules
            while (remainingWord.length > 0) {
                let matchFound = false;
                
                // Try to match patterns from our rules
                for (let i = 0; i < phonemeRules.length; i++) {
                    const rule = phonemeRules[i];
                    const match = remainingWord.match(rule.pattern);
                    
                    if (match && match.index === 0) {
                        // Add the IPA symbol for the matched pattern
                        result += rule.ipa;
                        // Remove the matched part from the remaining word
                        const matchedText = match[0];
                        remainingWord = remainingWord.substring(matchedText.length);
                        matchFound = true;
                        break;
                    }
                }
                
                // If no pattern matched, skip this character
                if (!matchFound) {
                    remainingWord = remainingWord.substring(1);
                }
            }
            
            // Add appropriate stress markers for words with multiple syllables
            if (syllables > 1) {
                result = addStressMarkers(result, syllables);
            }
            
            return result || word;
        }
        
        // Function to estimate number of syllables in a word
        function estimateSyllables(word) {
            // Remove final silent e
            word = word.replace(/e$/, '');
            
            // Count vowel groups
            const vowelGroups = word.match(/[aeiouy]+/gi);
            return vowelGroups ? vowelGroups.length : 1;
        }
        
        // Function to add stress markers to IPA representation
        function addStressMarkers(ipa, syllableCount) {
            if (syllableCount <= 1) return ipa;
            
            // Very basic stress rules for American English:
            // 1. If 2 syllables, stress is typically on the first syllable
            // 2. For longer words, we need more complex rules, but this is a simplified version
            
            // Find the position to insert primary stress mark
            // Look for first vowel sound
            const vowelPattern = /[æɑɛiɪɔʌuʊəeɪaɪɔɪaʊoʊ]/;
            
            let position = 0;
            for (let i = 0; i < ipa.length; i++) {
                if (vowelPattern.test(ipa[i])) {
                    position = i;
                    break;
                }
            }
            
            // Insert primary stress marker before the first vowel sound
            if (position > 0) {
                return ipa.slice(0, position) + "ˈ" + ipa.slice(position);
            } else if (ipa.length > 0) {
                return "ˈ" + ipa;
            }
            
            return ipa;
        }
        
        // Event listeners
        document.getElementById('translate-btn').addEventListener('click', () => {
            const englishWord = document.getElementById('english-input').value.trim();
            const ipaOutput = document.getElementById('ipa-output');
            
            if (!englishWord) {
                ipaOutput.textContent = "Please enter a word";
                return;
            }
            
            ipaOutput.innerHTML = translateToIPA(englishWord);
        });
        
        document.getElementById('english-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const englishWord = document.getElementById('english-input').value.trim();
                const ipaOutput = document.getElementById('ipa-output');
                
                if (!englishWord) {
                    ipaOutput.textContent = "Please enter a word";
                    return;
                }
                
                ipaOutput.innerHTML = translateToIPA(englishWord);
            }
        });
        
        // Add event listeners for example words
        document.querySelectorAll('.example-word').forEach(button => {
            button.addEventListener('click', () => {
                const word = button.getAttribute('data-word');
                document.getElementById('english-input').value = word;
                document.getElementById('ipa-output').innerHTML = translateToIPA(word);
            });
        });
    </script>
</body>
</html>